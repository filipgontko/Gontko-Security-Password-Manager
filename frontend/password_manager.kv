<Signup>:
    name: "signup"
    MDCard:
        size_hint: None, None
        size: 300, 400
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 25
        padding: 25
        spacing: 25
        orientation: "vertical"

        MDLabel:
            id: welcome_label
            text: "Gontko Security"
            font_size: 20
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 10

        MDTextFieldRound:
            id: email
            hint_text: "e-mail"
            icon_right: "account"
            size_hint_x: None
            width: 200
            font_size: 15
            pos_hint: {"center_x": 0.5}

        MDTextFieldRound:
            id: password
            hint_text: "master password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 200
            font_size: 15
            pos_hint: {"center_x": 0.5}
            password: True

        Widget:
            size_hint_y: None
            height: 5

        MDRoundFlatButton:
            text: "SIGN UP"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_release:
                root.signup(email.text, password.text)
                email.text = ""
                password.text = ""
                app.root.current = "logged_in"
                root.manager.transition.direction = "left"

        Widget:
            size_hint_y: None
            height: 10

<Login>:
    name: "login"
    MDCard:
        size_hint: None, None
        size: 300, 400
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 25
        padding: 25
        spacing: 25
        orientation: "vertical"

        MDLabel:
            id: welcome_label
            text: "Gontko Security"
            font_size: 20
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 10

        MDTextFieldRound:
            id: email
            hint_text: "e-mail"
            icon_right: "account"
            size_hint_x: None
            width: 200
            font_size: 15
            pos_hint: {"center_x": 0.5}

        MDTextFieldRound:
            id: password
            hint_text: "master password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 200
            font_size: 15
            pos_hint: {"center_x": 0.5}
            password: True

        Widget:
            size_hint_y: None
            height: 5

        MDRoundFlatButton:
            text: "LOG IN"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_release:
                root.login(email.text, password.text)
                root.manager.transition.direction = "left"
                email.text = ""
                password.text = ""

        MDRoundFlatButton:
            text: "FORGOT PASSWORD"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_release: root.forgot_password()

        Widget:
            size_hint_y: None
            height: 10


<CustomOneLineCredsListItem>

<LoggedIn>:
    name: "logged_in"
    MDBoxLayout:
        orientation: "vertical"
        MDToolbar:
            title: "Gontko Security Password Manager"
            left_action_items: [["security", lambda x: app.navigation_draw()]]
            md_bg_color: app.theme_cls.primary_dark

            MDFillRoundFlatButton:
                text: "Log Out"
                font_size: 12
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_release:
                    root.logout()
                    app.root.current = "login"
                    root.manager.transition.direction = "right"

        MDGridLayout:
            cols: 2
            md_bg_color: app.theme_cls.primary_color
            spacing: 10
            padding: 10
            MDCard:
                orientation: "vertical"
                size: root.width, root.height

                MDBoxLayout:
                    adaptive_height: True

                    MDIconButton:
                        icon: "magnify"

                    MDTextField:
                        id: search_field
                        hint_text: "Search credentials"
                        on_text: root.set_list_credentials(self.text, True)

                RecycleView:
                    id: rv
                    key_viewclass: "viewclass"
                    key_size: "height"

                    RecycleBoxLayout:
                        padding: dp(10)
                        default_size: None, dp(48)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: "vertical"

            MDCard:
                orientation: "vertical"
                size: root.width, root.height

                MDTextFieldRound:
                    id: website
                    hint_text: "website"
                    icon_right: "website"
                    size_hint_x: None
                    width: 200
                    font_size: 15
                    pos_hint: {"center_x": 0.5}

                MDTextFieldRound:
                    id: username
                    hint_text: "username"
                    icon_right: "account"
                    size_hint_x: None
                    width: 200
                    font_size: 15
                    pos_hint: {"center_x": 0.5}

                MDTextFieldRound:
                    id: passwd
                    hint_text: "password"
                    icon_right: "eye-off"
                    size_hint_x: None
                    width: 200
                    font_size: 15
                    pos_hint: {"center_x": 0.5}
                    password: True

                MDFillRoundFlatButton:
                    text: "Add Credentials"
                    font_size: 12
                    pos_hint: {"center_x": 0.5}
                    on_release:
                        root.add_credentials(website.text, username.text, passwd.text)
                        website.text = ""
                        username.text = ""
                        passwd.text = ""

    MDFloatingActionButtonSpeedDial:
        data: root.data
        root_button_anim: True
        bg_hint_color: app.theme_cls.primary_light
